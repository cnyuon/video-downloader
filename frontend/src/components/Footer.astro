---
/**
 * Footer - Site-wide footer with tool links, blog, and legal
 * Used on every page for consistent internal linking and crawlability
 */
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import type { ui } from '../i18n/ui';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Always prefix URLs with the language code
const getHref = (path: string) => `/${lang}${path === '/' ? '' : path}`;
---

<footer class="border-t py-12 mt-8">
    <div class="container mx-auto px-4 max-w-6xl">
        <div class="grid gap-8 md:grid-cols-3 mb-8">
            <!-- Brand -->
            <div>
                <a href={getHref('/')} class="flex items-center space-x-2 mb-3">
                    <div class="h-6 w-6 rounded-md bg-primary flex items-center justify-center">
                        <svg class="w-4 h-4 text-primary-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                    </div>
                    <span class="font-bold">MediaTools</span>
                </a>
                <p class="text-sm text-muted-foreground">{t('footer.desc')}</p>
            </div>

            <!-- Tools -->
            <div>
                <h3 class="font-semibold mb-3 text-sm">{t('footer.tools')}</h3>
                <ul class="space-y-2 text-sm text-muted-foreground">
                    <li><a href={getHref('/tiktok-downloader')} class="hover:text-foreground transition-colors">{t('nav.tiktok')}</a></li>
                    <li><a href={getHref('/twitter-downloader')} class="hover:text-foreground transition-colors">{t('nav.twitter')}</a></li>
                    <li><a href={getHref('/facebook-downloader')} class="hover:text-foreground transition-colors">{t('nav.facebook')}</a></li>
                    <li><a href={getHref('/tiktok-sound-downloader')} class="hover:text-foreground transition-colors">{t('nav.sound')}</a></li>
                    <li><a href={getHref('/video-to-mp3')} class="hover:text-foreground transition-colors">{t('nav.audio')}</a></li>
                    <li><a href={getHref('/thumbnail-grabber')} class="hover:text-foreground transition-colors">{t('nav.thumbnail')}</a></li>
                </ul>
            </div>

            <!-- Resources -->
            <div>
                <h3 class="font-semibold mb-3 text-sm">{t('footer.resources')}</h3>
                <ul class="space-y-2 text-sm text-muted-foreground">
                    <li><a href={getHref('/blog')} class="hover:text-foreground transition-colors">{t('nav.blog')}</a></li>
                    <li><a href={getHref('/blog/how-to-download-tiktok-without-watermark')} class="hover:text-foreground transition-colors">TikTok Download Guide</a></li>
                    <li><a href={getHref('/blog/5-best-ways-to-save-twitter-videos')} class="hover:text-foreground transition-colors">Save Twitter Videos</a></li>
                    <li><a href={getHref('/blog/best-free-video-editors-tiktok')} class="hover:text-foreground transition-colors">Video Editors for TikTok</a></li>
                </ul>
            </div>
        </div>

        <div class="border-t pt-6 text-center text-sm text-muted-foreground">
            <p>{t('footer.copyright')}</p>
        </div>
    </div>
</footer>
